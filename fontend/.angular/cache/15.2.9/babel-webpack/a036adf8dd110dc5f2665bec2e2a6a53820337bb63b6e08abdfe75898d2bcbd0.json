{"ast":null,"code":"var _class;\nimport { Cliente } from '../cliente/cliente.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cliente.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction LoginComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.mensagem);\n  }\n}\nexport class LoginComponent {\n  constructor(service) {\n    this.service = service;\n    this.mensagem = \"\";\n    this.obj = new Cliente();\n  }\n  fazerLogin() {\n    try {\n      this.service.login(this.obj).subscribe(retorno => {\n        if (retorno.nome == null) {\n          this.mensagem = \"email ou senha invalidos!!!\";\n        } else {\n          localStorage.setItem(\"nomeCliente\", retorno.nome);\n          localStorage.setItem(\"cliente\", JSON.stringify(retorno));\n          window.location.href = \"./lista\";\n        }\n      });\n    } catch {\n      this.mensagem = \"Ocorreu um erro volte mais tarde!\";\n    }\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ClienteService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 13,\n  vars: 3,\n  consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-label\"], [\"type\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"alert\", \"alert-danger\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, LoginComponent_div_2_Template, 2, 1, \"div\", 0);\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtext(4, \"email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.obj.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"div\", 1);\n      i0.ɵɵtext(8, \"senha:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.obj.senha = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_11_listener() {\n        return ctx.fazerLogin();\n      });\n      i0.ɵɵtext(12, \"Entrar\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.mensagem.length > 0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.obj.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.obj.senha);\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAEA,SAASA,OAAO,QAAQ,0BAA0B;;;;;;;ICDlDC,8BAC0B;IAAAA,YAAY;IAAAA,iBAAM;;;;IAAlBA,eAAY;IAAZA,qCAAY;;;ADOtC,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,OAAsB;IAAtB,YAAO,GAAPA,OAAO;IAH3B,aAAQ,GAAW,EAAE;IACrB,QAAG,GAAa,IAAIJ,OAAO,EAAE;EAEiB;EAE9CK,UAAU;IACR,IAAG;MACC,IAAI,CAACD,OAAO,CAACE,KAAK,CAAC,IAAI,CAACC,GAAG,CAAC,CAACC,SAAS,CACnCC,OAAgB,IAAI;QACjB,IAAGA,OAAO,CAACC,IAAI,IAAE,IAAI,EAAC;UACpB,IAAI,CAACC,QAAQ,GAAG,6BAA6B;SAC9C,MAAO;UACNC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEJ,OAAO,CAACC,IAAI,CAAC;UACjDE,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACN,OAAO,CAAC,CAAC;UACxDO,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,SAAS;;MAEtC,CAAC,CAAC;KACP,CACD,MAAK;MACH,IAAI,CAACP,QAAQ,GAAG,mCAAmC;;EAEvD;;SAtBWT,cAAc;;mBAAdA,MAAc;AAAA;;QAAdA,MAAc;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT3BtB,0BAAI;MAAAA,qBAAK;MAAAA,iBAAK;MACdA,+DAC4C;MAE5CA,8BAAwB;MAAAA,sBAAM;MAAAA,iBAAM;MACpCA,gCACsB;MADFA;QAAA;MAAA,EAAuB;MAA3CA,iBACsB;MAAAA,qBAAI;MAC1BA,8BAAwB;MAAAA,sBAAM;MAAAA,iBAAM;MACpCA,gCACsB;MADCA;QAAA;MAAA,EAAuB;MAA9CA,iBACsB;MAAAA,sBAAI;MAC1BA,kCACwB;MAAxBA;QAAA,OAASuB,gBAAY;MAAA,EAAE;MAACvB,uBAAM;MAAAA,iBAAS;;;MATtCA,eAAuB;MAAvBA,8CAAuB;MAGJA,eAAuB;MAAvBA,uCAAuB;MAGpBA,eAAuB;MAAvBA,uCAAuB","names":["Cliente","i0","LoginComponent","constructor","service","fazerLogin","login","obj","subscribe","retorno","nome","mensagem","localStorage","setItem","JSON","stringify","window","location","href","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\vaoliveira\\Desktop\\VANESSA\\ADS\\4 Semestre\\Programação web\\Atividades\\aula dia 25.11.2023\\web12_exemplo\\fontend\\src\\app\\login\\login.component.ts","C:\\Users\\vaoliveira\\Desktop\\VANESSA\\ADS\\4 Semestre\\Programação web\\Atividades\\aula dia 25.11.2023\\web12_exemplo\\fontend\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ClienteService } from '../service/cliente.service';\nimport { Cliente } from '../cliente/cliente.model';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  mensagem: String = \"\";\n  obj : Cliente = new Cliente();\n\n  constructor(private service:ClienteService ){ }\n\n  fazerLogin(){\n    try{\n        this.service.login(this.obj).subscribe(\n          (retorno: Cliente) => {      \n              if(retorno.nome==null){\n                this.mensagem = \"email ou senha invalidos!!!\";  \n              }  else {\n                localStorage.setItem(\"nomeCliente\", retorno.nome);  \n                localStorage.setItem(\"cliente\", JSON.stringify(retorno));\n                window.location.href = \"./lista\";\n              }   \n          });\n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro volte mais tarde!\";\n    }\n  }\n}\n","<h2>Login</h2>\n<div class=\"alert alert-danger\"\n*ngIf=\"mensagem.length>0\">{{mensagem}}</div>\n\n<div class=\"form-label\">email:</div>\n<input type=\"email\" [(ngModel)]=\"obj.email\" \nclass=\"form-control\" ><br>\n<div class=\"form-label\">senha:</div>\n<input type=\"password\" [(ngModel)]=\"obj.senha\"\nclass=\"form-control\" ><br>\n<button class=\"btn btn-success\"\n(click)=\"fazerLogin();\">Entrar</button>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}