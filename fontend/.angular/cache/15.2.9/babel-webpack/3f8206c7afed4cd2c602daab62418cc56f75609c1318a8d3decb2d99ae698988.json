{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Produtos } from './produtos.model';\nimport { FormGroup } from '@angular/forms';\nlet ProdutosComponent = class ProdutosComponent {\n  constructor(produtosService, rotas) {\n    this.produtosService = produtosService;\n    this.rotas = rotas;\n    this.mensagem = \"\";\n    this.produto = new Produtos();\n    this.lista = [];\n  }\n  ngOnInit() {\n    let id = this.rotas.snapshot.paramMap.get(\"id\");\n    if (id != null) {\n      this.produto.id = Number(id);\n      this.pesquisar();\n    }\n    this.formulario = new FormGroup({\n      p\n    });\n  }\n  mostrar() {\n    this.mensagem = \"Registro gravado com sucesso!\";\n    let produtosAux = new Produtos(this.produto);\n    this.lista.push(produtosAux);\n    window.localStorage.setItem('listaProdutos', JSON.stringify(this.lista));\n  }\n  gravar() {\n    try {\n      if (this.produto.id == 0) {\n        this.produtosService.gravar(this.produto);\n        this.mensagem = \"Produto gravado com sucesso!\";\n      } else {\n        this.produtosService.alterar(this.produto);\n        this.mensagem = \"Produtp alterado com sucesso!\";\n      }\n    } catch {\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n  pesquisar() {\n    this.mensagem = \"\";\n    try {\n      this.produtosService.carregar(this.produto.id).subscribe(retorno => {\n        this.produto.nome_produto = retorno.nome_produto;\n        this.produto.descricao = retorno.descricao;\n        this.produto.descricao_curta = retorno.descricao_curta;\n        this.produto.descricao_longa = retorno.descricao_longa;\n        this.produto.preco = retorno.preco;\n        this.produto.link_foto = retorno.link_foto;\n        if (retorno.nome_produto == null) this.mensagem = \"Registro não encontrado!\";\n      });\n    } catch {\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n  remover() {\n    try {\n      this.produtosService.remover(this.produto.id);\n      this.mensagem = \"Produto removido com sucesso!\";\n    } catch {\n      this.mensagem = \"Ocorreu um erro durante o processo!\";\n    }\n  }\n};\nProdutosComponent = __decorate([Component({\n  selector: 'app-produtos',\n  templateUrl: './produtos.component.html',\n  styleUrls: ['./produtos.component.css']\n})], ProdutosComponent);\nexport { ProdutosComponent };","map":{"version":3,"mappings":"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","names":["Component","Produtos","FormGroup","ProdutosComponent","constructor","produtosService","rotas","ngOnInit","id","snapshot","paramMap","get","produto","Number","pesquisar","formulario","p","mostrar","mensagem","produtosAux","lista","push","window","localStorage","setItem","JSON","stringify","gravar","alterar","carregar","subscribe","retorno","nome_produto","descricao","descricao_curta","descricao_longa","preco","link_foto","remover","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Letticia_Tonon\\Downloads\\Vanessa\\Vanessa\\fontend\\src\\app\\produtos\\produtos.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Produtos } from './produtos.model';\nimport { ProdutosService } from '../service/produtos.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport {Guid} from 'guid-typescript';\n\n@Component({\n  selector: 'app-produtos',\n  templateUrl: './produtos.component.html',\n  styleUrls: ['./produtos.component.css']\n})\nexport class ProdutosComponent {\n  mensagem : string = \"\";\n  produto: Produtos = new Produtos();\n  lista: Produtos[] = [];\nformulario: any;\n  \n  constructor(private produtosService: ProdutosService, \n              private rotas: ActivatedRoute) {}\n\n  ngOnInit(){\n    let id = this.rotas.snapshot.paramMap.get(\"id\");\n    if(id!=null){\n      this.produto.id = Number(id);\n      this.pesquisar();\n    }\n    this.formulario = new FormGroup({\n      p\n    })     \n  }              \n\n  public mostrar(){\n    this.mensagem = \"Registro gravado com sucesso!\";\n    let produtosAux : Produtos = new Produtos(this.produto);    \n    this.lista.push(produtosAux);\n    window.localStorage.setItem('listaProdutos', JSON.stringify(this.lista));\n  }\n\n  public gravar(){\n    try{\n      if(this.produto.id==0){\n        this.produtosService.gravar(this.produto);\n        this.mensagem = \"Produto gravado com sucesso!\";\n      }  else {\n        this.produtosService.alterar(this.produto);\n        this.mensagem = \"Produtp alterado com sucesso!\";\n      }      \n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n\n  public pesquisar(){\n    this.mensagem = \"\";\n    try{      \n      this.produtosService.carregar(this.produto.id).subscribe(\n        (retorno: Produtos) => {            \n          this.produto.nome_produto = retorno.nome_produto;\n          this.produto.descricao = retorno.descricao;\n          this.produto.descricao_curta =  retorno.descricao_curta;\n          this.produto.descricao_longa = retorno.descricao_longa;\n          this.produto.preco = retorno.preco;\n          this.produto.link_foto = retorno.link_foto;\n          if(retorno.nome_produto==null)  this.mensagem = \"Registro não encontrado!\";          \n        });\n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n\n  public remover(){\n    try{\n      this.produtosService.remover(this.produto.id);\n      this.mensagem = \"Produto removido com sucesso!\";\n    } \n    catch{\n      this.mensagem = \"Ocorreu um erro durante o processo!\";\n    }     \n  }\n\n  \n}\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}