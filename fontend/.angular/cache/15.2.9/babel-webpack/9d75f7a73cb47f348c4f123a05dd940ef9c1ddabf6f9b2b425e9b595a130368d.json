{"ast":null,"code":"var _class;\nimport { Cliente } from '../cliente/cliente.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cliente.service\";\nimport * as i2 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(service) {\n    this.service = service;\n    this.mensagem = \"\";\n    this.obj = new Cliente();\n  }\n  fazerLogin() {\n    try {\n      this.service.login(this.obj).subscribe(retorno => {\n        if (retorno.nome == null) {\n          this.mensagem = \"email ou senha invalidos!!!\";\n        } else {\n          localStorage.setItem(\"nomeCliente\", retorno.nome);\n          localStorage.setItem(\"cliente\", JSON.stringify(retorno));\n          window.location.href = \"./lista\";\n        }\n      });\n    } catch {\n      this.mensagem = \"Ocorreu um erro volte mais tarde!\";\n    }\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ClienteService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[1, \"alert\", \"alert-info\"], [1, \"f\"], [\"type\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵtext(5, \"email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.obj.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵtext(8, \"\\nsenha: \");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.mensagem);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.obj.email);\n    }\n  },\n  dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAEA,SAASA,OAAO,QAAQ,0BAA0B;;;;AAOlD,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,OAAsB;IAAtB,YAAO,GAAPA,OAAO;IAH3B,aAAQ,GAAW,EAAE;IACrB,QAAG,GAAa,IAAIH,OAAO,EAAE;EAEiB;EAE9CI,UAAU;IACR,IAAG;MACC,IAAI,CAACD,OAAO,CAACE,KAAK,CAAC,IAAI,CAACC,GAAG,CAAC,CAACC,SAAS,CACnCC,OAAgB,IAAI;QACjB,IAAGA,OAAO,CAACC,IAAI,IAAE,IAAI,EAAC;UACpB,IAAI,CAACC,QAAQ,GAAG,6BAA6B;SAC9C,MAAO;UACNC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEJ,OAAO,CAACC,IAAI,CAAC;UACjDE,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACN,OAAO,CAAC,CAAC;UACxDO,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,SAAS;;MAEtC,CAAC,CAAC;KACP,CACD,MAAK;MACH,IAAI,CAACP,QAAQ,GAAG,mCAAmC;;EAEvD;;SAtBWT,cAAc;;mBAAdA,MAAc;AAAA;;QAAdA,MAAc;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT3BC,0BAAI;MAAAA,qBAAK;MAAAA,iBAAK;MACdA,8BAA8B;MAAAA,YAAY;MAAAA,iBAAM;MAChDA,8BAAe;MAAAA,sBAAM;MAAAA,iBAAM;MAAAA,gCACL;MADyBA;QAAA;MAAA,EAAuB;MAA3CA,iBACL;MAAAA,qBAAI;MAC1BA,yBAEA;;;MAL8BA,eAAY;MAAZA,kCAAY;MACKA,eAAuB;MAAvBA,uCAAuB","names":["Cliente","LoginComponent","constructor","service","fazerLogin","login","obj","subscribe","retorno","nome","mensagem","localStorage","setItem","JSON","stringify","window","location","href","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\projetos\\pwebn\\web10_exemplo\\fontend\\src\\app\\login\\login.component.ts","C:\\projetos\\pwebn\\web10_exemplo\\fontend\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ClienteService } from '../service/cliente.service';\nimport { Cliente } from '../cliente/cliente.model';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  mensagem: String = \"\";\n  obj : Cliente = new Cliente();\n\n  constructor(private service:ClienteService ){ }\n\n  fazerLogin(){\n    try{\n        this.service.login(this.obj).subscribe(\n          (retorno: Cliente) => {      \n              if(retorno.nome==null){\n                this.mensagem = \"email ou senha invalidos!!!\";  \n              }  else {\n                localStorage.setItem(\"nomeCliente\", retorno.nome);  \n                localStorage.setItem(\"cliente\", JSON.stringify(retorno));\n                window.location.href = \"./lista\";\n              }   \n          });\n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro volte mais tarde!\";\n    }\n  }\n}\n","<h2>Login</h2>\n<div class=\"alert alert-info\">{{mensagem}}</div>\n<div class=\"f\">email:</div><input type=\"email\" [(ngModel)]=\"obj.email\" \nclass=\"form-control\" ><br>\nsenha:\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}