{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Cliente } from './cliente.model';\nlet ClienteComponent = class ClienteComponent {\n  constructor(clienteService) {\n    this.clienteService = clienteService;\n    this.mensagem = \"\";\n    this.obj = new Cliente();\n    this.lista = [];\n  }\n  mostrar() {\n    this.mensagem = \"Registro gravado com sucesso!\";\n    let clienteAux = new Cliente(this.obj);\n    this.lista.push(clienteAux);\n    window.localStorage.setItem('listaCliente', JSON.stringify(this.lista));\n  }\n  gravar() {\n    try {\n      if (this.obj.codigo == 0) {\n        this.clienteService.gravar(this.obj);\n        this.mensagem = \"Cliente gravado com sucesso!\";\n      } else {\n        this.clienteService.alterar(this.obj);\n        this.mensagem = \"Cliente alterado com sucesso!\";\n      }\n    } catch {\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n  pesquisar() {\n    this.mensagem = \"\";\n    try {\n      this.clienteService.carregar(this.obj.codigo).subscribe(retorno => {\n        this.obj.email = retorno.email;\n        this.obj.nome = retorno.nome;\n        this.obj.senha = retorno.senha;\n        this.obj.telefone = retorno.telefone;\n        if (retorno.nome == null) this.mensagem = \"Registro não encontrado!\";\n      });\n    } catch {\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n  remover() {\n    try {\n      this.clienteService.remover(this.obj.codigo);\n      this.mensagem = \"registro removido com sucesso!\";\n    } catch {\n      this.mensagem = \"Ocorreu um erro durante o processo!\";\n    }\n  }\n};\nClienteComponent = __decorate([Component({\n  selector: 'app-cliente',\n  templateUrl: './cliente.component.html',\n  styleUrls: ['./cliente.component.css']\n})], ClienteComponent);\nexport { ClienteComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,OAAO,QAAQ,iBAAiB;AAQlC,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAK3BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAJlC,aAAQ,GAAY,EAAE;IACtB,QAAG,GAAY,IAAIH,OAAO,EAAE;IAC5B,UAAK,GAAc,EAAE;EAEgC;EAE9CI,OAAO;IACZ,IAAI,CAACC,QAAQ,GAAG,+BAA+B;IAC/C,IAAIC,UAAU,GAAa,IAAIN,OAAO,CAAC,IAAI,CAACO,GAAG,CAAC;IAChD,IAAI,CAACC,KAAK,CAACC,IAAI,CAACH,UAAU,CAAC;IAC3BI,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACN,KAAK,CAAC,CAAC;EACzE;EAEOO,MAAM;IACX,IAAG;MACD,IAAG,IAAI,CAACR,GAAG,CAACS,MAAM,IAAE,CAAC,EAAC;QACpB,IAAI,CAACb,cAAc,CAACY,MAAM,CAAC,IAAI,CAACR,GAAG,CAAC;QACpC,IAAI,CAACF,QAAQ,GAAG,8BAA8B;OAC/C,MAAO;QACN,IAAI,CAACF,cAAc,CAACc,OAAO,CAAC,IAAI,CAACV,GAAG,CAAC;QACrC,IAAI,CAACF,QAAQ,GAAG,+BAA+B;;KAElD,CACD,MAAK;MACH,IAAI,CAACA,QAAQ,GAAG,6BAA6B;;EAEjD;EAEOa,SAAS;IACd,IAAI,CAACb,QAAQ,GAAG,EAAE;IAClB,IAAG;MACD,IAAI,CAACF,cAAc,CAACgB,QAAQ,CAAC,IAAI,CAACZ,GAAG,CAACS,MAAM,CAAC,CAACI,SAAS,CACpDC,OAAgB,IAAI;QACnB,IAAI,CAACd,GAAG,CAACe,KAAK,GAAGD,OAAO,CAACC,KAAK;QAC9B,IAAI,CAACf,GAAG,CAACgB,IAAI,GAAGF,OAAO,CAACE,IAAI;QAC5B,IAAI,CAAChB,GAAG,CAACiB,KAAK,GAAGH,OAAO,CAACG,KAAK;QAC9B,IAAI,CAACjB,GAAG,CAACkB,QAAQ,GAAGJ,OAAO,CAACI,QAAQ;QACpC,IAAGJ,OAAO,CAACE,IAAI,IAAE,IAAI,EAAG,IAAI,CAAClB,QAAQ,GAAG,0BAA0B;MACpE,CAAC,CAAC;KACL,CACD,MAAK;MACH,IAAI,CAACA,QAAQ,GAAG,6BAA6B;;EAEjD;EAEOqB,OAAO;IACZ,IAAG;MACD,IAAI,CAACvB,cAAc,CAACuB,OAAO,CAAC,IAAI,CAACnB,GAAG,CAACS,MAAM,CAAC;MAC5C,IAAI,CAACX,QAAQ,GAAG,gCAAgC;KACjD,CACD,MAAK;MACH,IAAI,CAACA,QAAQ,GAAG,qCAAqC;;EAEzD;CACD;AAvDYJ,gBAAgB,eAL5BF,SAAS,CAAC;EACT4B,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACW5B,gBAAgB,CAuD5B;SAvDYA,gBAAgB","names":["Component","Cliente","ClienteComponent","constructor","clienteService","mostrar","mensagem","clienteAux","obj","lista","push","window","localStorage","setItem","JSON","stringify","gravar","codigo","alterar","pesquisar","carregar","subscribe","retorno","email","nome","senha","telefone","remover","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\projetos\\pwebn\\web10_exemplo\\fontend\\src\\app\\cliente\\cliente.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Cliente } from './cliente.model';\nimport { ClienteService } from '../service/cliente.service';\n\n@Component({\n  selector: 'app-cliente',\n  templateUrl: './cliente.component.html',\n  styleUrls: ['./cliente.component.css']\n})\nexport class ClienteComponent {\n  mensagem : string = \"\";\n  obj: Cliente = new Cliente();\n  lista: Cliente[] = [];\n  \n  constructor(private clienteService: ClienteService) {}\n\n  public mostrar(){\n    this.mensagem = \"Registro gravado com sucesso!\";\n    let clienteAux : Cliente = new Cliente(this.obj);    \n    this.lista.push(clienteAux);\n    window.localStorage.setItem('listaCliente', JSON.stringify(this.lista));\n  }\n\n  public gravar(){\n    try{\n      if(this.obj.codigo==0){\n        this.clienteService.gravar(this.obj);\n        this.mensagem = \"Cliente gravado com sucesso!\";\n      }  else {\n        this.clienteService.alterar(this.obj);\n        this.mensagem = \"Cliente alterado com sucesso!\";\n      }      \n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n\n  public pesquisar(){\n    this.mensagem = \"\";\n    try{      \n      this.clienteService.carregar(this.obj.codigo).subscribe(\n        (retorno: Cliente) => {            \n          this.obj.email = retorno.email;\n          this.obj.nome = retorno.nome;\n          this.obj.senha = retorno.senha;\n          this.obj.telefone = retorno.telefone;\n          if(retorno.nome==null)  this.mensagem = \"Registro não encontrado!\";          \n        });\n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n\n  public remover(){\n    try{\n      this.clienteService.remover(this.obj.codigo);\n      this.mensagem = \"registro removido com sucesso!\";\n    } \n    catch{\n      this.mensagem = \"Ocorreu um erro durante o processo!\";\n    }     \n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}