{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Produtos } from './produtos.model';\nlet ProdutosComponent = class ProdutosComponent {\n  constructor(produtosService, rotas) {\n    this.produtosService = produtosService;\n    this.rotas = rotas;\n    this.mensagem = \"\";\n    this.obj = new Produtos();\n    this.lista = [];\n  }\n  ngOnInit() {\n    let codigo = this.rotas.snapshot.paramMap.get(\"codigo\");\n    if (codigo != null) {\n      this.obj.codigo = Number(codigo);\n      this.pesquisar();\n    }\n  }\n  mostrar() {\n    this.mensagem = \"Registro gravado com sucesso!\";\n    let produtosAux = new Produtos(this.obj);\n    this.lista.push(produtosAux);\n    window.localStorage.setItem('listaProdutos', JSON.stringify(this.lista));\n  }\n  gravar() {\n    try {\n      if (this.obj.codigo == 0) {\n        this.produtosService.gravar(this.obj);\n        this.mensagem = \"Produto gravado com sucesso!\";\n      } else {\n        this.produtosService.alterar(this.obj);\n        this.mensagem = \"Produtp alterado com sucesso!\";\n      }\n    } catch {\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n  pesquisar() {\n    this.mensagem = \"\";\n    try {\n      this.produtosService.carregar(this.obj.codigo).subscribe(retorno => {\n        this.obj.nome_produto = retorno.nome_produto;\n        this.obj.descricao = retorno.descricao;\n        this.obj.preco = retorno.preco;\n        this.obj.categoria = retorno.categoria;\n        if (retorno.nome_produto == null) this.mensagem = \"Registro não encontrado!\";\n      });\n    } catch {\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n  remover() {\n    try {\n      this.produtosService.remover(this.obj.codigo);\n      this.mensagem = \"Produto removido com sucesso!\";\n    } catch {\n      this.mensagem = \"Ocorreu um erro durante o processo!\";\n    }\n  }\n};\nProdutosComponent = __decorate([Component({\n  selector: 'app-produtos',\n  templateUrl: './produtos.component.html',\n  styleUrls: ['./produtos.component.css']\n})], ProdutosComponent);\nexport { ProdutosComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,QAAQ,QAAQ,kBAAkB;AASpC,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK5BC,YAAoBC,eAAgC,EAChCC,KAAqB;IADrB,oBAAe,GAAfD,eAAe;IACf,UAAK,GAALC,KAAK;IALzB,aAAQ,GAAY,EAAE;IACtB,QAAG,GAAa,IAAIJ,QAAQ,EAAE;IAC9B,UAAK,GAAe,EAAE;EAGsB;EAE5CK,QAAQ;IACN,IAAIC,MAAM,GAAG,IAAI,CAACF,KAAK,CAACG,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC;IACvD,IAAGH,MAAM,IAAE,IAAI,EAAC;MACd,IAAI,CAACI,GAAG,CAACJ,MAAM,GAAGK,MAAM,CAACL,MAAM,CAAC;MAChC,IAAI,CAACM,SAAS,EAAE;;EAEpB;EAEOC,OAAO;IACZ,IAAI,CAACC,QAAQ,GAAG,+BAA+B;IAC/C,IAAIC,WAAW,GAAc,IAAIf,QAAQ,CAAC,IAAI,CAACU,GAAG,CAAC;IACnD,IAAI,CAACM,KAAK,CAACC,IAAI,CAACF,WAAW,CAAC;IAC5BG,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACN,KAAK,CAAC,CAAC;EAC1E;EAEOO,MAAM;IACX,IAAG;MACD,IAAG,IAAI,CAACb,GAAG,CAACJ,MAAM,IAAE,CAAC,EAAC;QACpB,IAAI,CAACH,eAAe,CAACoB,MAAM,CAAC,IAAI,CAACb,GAAG,CAAC;QACrC,IAAI,CAACI,QAAQ,GAAG,8BAA8B;OAC/C,MAAO;QACN,IAAI,CAACX,eAAe,CAACqB,OAAO,CAAC,IAAI,CAACd,GAAG,CAAC;QACtC,IAAI,CAACI,QAAQ,GAAG,+BAA+B;;KAElD,CACD,MAAK;MACH,IAAI,CAACA,QAAQ,GAAG,6BAA6B;;EAEjD;EAEOF,SAAS;IACd,IAAI,CAACE,QAAQ,GAAG,EAAE;IAClB,IAAG;MACD,IAAI,CAACX,eAAe,CAACsB,QAAQ,CAAC,IAAI,CAACf,GAAG,CAACJ,MAAM,CAAC,CAACoB,SAAS,CACrDC,OAAiB,IAAI;QACpB,IAAI,CAACjB,GAAG,CAACkB,YAAY,GAAGD,OAAO,CAACC,YAAY;QAC5C,IAAI,CAAClB,GAAG,CAACmB,SAAS,GAAGF,OAAO,CAACE,SAAS;QACtC,IAAI,CAACnB,GAAG,CAACoB,KAAK,GAAGH,OAAO,CAACG,KAAK;QAC9B,IAAI,CAACpB,GAAG,CAACqB,SAAS,GAAGJ,OAAO,CAACI,SAAS;QACtC,IAAGJ,OAAO,CAACC,YAAY,IAAE,IAAI,EAAG,IAAI,CAACd,QAAQ,GAAG,0BAA0B;MAC5E,CAAC,CAAC;KACL,CACD,MAAK;MACH,IAAI,CAACA,QAAQ,GAAG,6BAA6B;;EAEjD;EAEOkB,OAAO;IACZ,IAAG;MACD,IAAI,CAAC7B,eAAe,CAAC6B,OAAO,CAAC,IAAI,CAACtB,GAAG,CAACJ,MAAM,CAAC;MAC7C,IAAI,CAACQ,QAAQ,GAAG,+BAA+B;KAChD,CACD,MAAK;MACH,IAAI,CAACA,QAAQ,GAAG,qCAAqC;;EAEzD;CACD;AAhEYb,iBAAiB,eAL7BF,SAAS,CAAC;EACTkC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACWlC,iBAAiB,CAgE7B;SAhEYA,iBAAiB","names":["Component","Produtos","ProdutosComponent","constructor","produtosService","rotas","ngOnInit","codigo","snapshot","paramMap","get","obj","Number","pesquisar","mostrar","mensagem","produtosAux","lista","push","window","localStorage","setItem","JSON","stringify","gravar","alterar","carregar","subscribe","retorno","nome_produto","descricao","preco","categoria","remover","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Letticia_Tonon\\Downloads\\Vanessa\\Vanessa\\fontend\\src\\app\\produtos\\produtos.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Produtos } from './produtos.model';\nimport { ProdutosService } from '../service/produtos.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-produtos',\n  templateUrl: './produtos.component.html',\n  styleUrls: ['./produtos.component.css']\n})\nexport class ProdutosComponent {\n  mensagem : string = \"\";\n  obj: Produtos = new Produtos();\n  lista: Produtos[] = [];\n  \n  constructor(private produtosService: ProdutosService, \n              private rotas: ActivatedRoute) {}\n\n  ngOnInit(){\n    let codigo = this.rotas.snapshot.paramMap.get(\"codigo\");\n    if(codigo!=null){\n      this.obj.codigo = Number(codigo);\n      this.pesquisar();\n    }     \n  }              \n\n  public mostrar(){\n    this.mensagem = \"Registro gravado com sucesso!\";\n    let produtosAux : Produtos = new Produtos(this.obj);    \n    this.lista.push(produtosAux);\n    window.localStorage.setItem('listaProdutos', JSON.stringify(this.lista));\n  }\n\n  public gravar(){\n    try{\n      if(this.obj.codigo==0){\n        this.produtosService.gravar(this.obj);\n        this.mensagem = \"Produto gravado com sucesso!\";\n      }  else {\n        this.produtosService.alterar(this.obj);\n        this.mensagem = \"Produtp alterado com sucesso!\";\n      }      \n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n\n  public pesquisar(){\n    this.mensagem = \"\";\n    try{      \n      this.produtosService.carregar(this.obj.codigo).subscribe(\n        (retorno: Produtos) => {            \n          this.obj.nome_produto = retorno.nome_produto;\n          this.obj.descricao = retorno.descricao;\n          this.obj.preco = retorno.preco;\n          this.obj.categoria = retorno.categoria;\n          if(retorno.nome_produto==null)  this.mensagem = \"Registro não encontrado!\";          \n        });\n    }\n    catch{\n      this.mensagem = \"Ocorreu um erro, verifique!\";\n    }\n  }\n\n  public remover(){\n    try{\n      this.produtosService.remover(this.obj.codigo);\n      this.mensagem = \"Produto removido com sucesso!\";\n    } \n    catch{\n      this.mensagem = \"Ocorreu um erro durante o processo!\";\n    }     \n  }\n}\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}